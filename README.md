# 우주선 살아남기
* 우주선으로 작은 지구를 돌며 연료를 획득하면서 1분을 버티는 게임
* DirectX 9 / C++

![image](https://github.com/sa04108/CGP_Project_LKY_JHB/assets/26221823/a411a197-f67d-452b-9bed-882e41113acf)

## Application Features
**Rendering**

우주선 모델을 직접 이동시키지 않고 지구의 회전 속도와 방향만 바꾸게 한다. 지구 외에 배경 모델, 연료 모델도 동일한 회전값을 가진다.
 
**Lighting**

광원은 태양 한 개로 한다. Ambient, Diffuse, Specular Light는 대부분 기본값으로 한다.
 
**UI**

글자 UI의 경우 왼쪽 상단에 FPS, CPU 사용량, 오브젝트 수, 폴리곤 수, 화면 크기를 표시한다.
이미지 UI의 경우 오른쪽 하단에 연료 게이지를 표시한다.

**Bitmap**

연료 UI를 시간에 따라 소모하는 모션으로 하였다.
이에 따라 명도가 다르지만 텍스쳐가 같은 두 이미지 파일을 비트맵으로 불러온 뒤 하나의 비트맵이 시간이 지나면서 텍스쳐 크기가 줄어드는 방식으로 구현하였다.

**Sound**

다이렉트 사운드에 wav 파일을 재생시킬 수 있게 해두었다.
다만 다이렉트 사운드가 mp3 파일에서 wav 파일로의 변환에 민감하여 실행을 시키면 다이렉트사운드에 문제가 생겼고, wav 파일로 나와있는 무료 BGM을 찾는 것이 어려워 BGM을 찾는데 어려움이 있었다. 이후 mp3에서 wav 파일로 문제없이 변환해주는 프로그램을 찾아 사운드를 적용시켰다.

**Collider**

일반적인 충돌 처리는 Collider Box가 존재하여 Collider Box에 해당하는 범위 내에 대상이 들어오면 충돌을 인식하는 것으로 하지만 이 게임에서는 그렇게까지 할 필요성을 느끼지 못하여 대신 연료 모델의 공전을 우주선의 공전 주기와 일치시킨 후, 우주선의 x좌표와 연료 모델의 생성 위치를 비교하여 충돌을 인식시키는 것으로 하였다.
연료 모델의 생성 위치를 나타내기 위해 Knuth Shuffle을 사용하여 0, 1, 2의 정수를 무작위로 섞어서 해당 번호에 해당하는 연료 모델을 출력하도록 하였다. 예를 들면 0이면 왼쪽, 1이면 가운데, 2면 오른쪽에 모델을 출력한다.


## Implementation Issues
**Model & Texture**

캐주얼 느낌으로 가기 위해 카툰 그래픽 모델을 열심히 구해보았으나 대부분 png 혹은 dds 같은 이미지 형태의 텍스처 파일이 없어서 모델을 구하는데 어려움이 있었다.
때문에 지구 모델에 대해서만 mtl 파일이 있는 카툰 느낌의 모델을 구한 뒤 Blender를 이용하여 mtl 파일로부터 직접 텍스쳐 이미지를 추출하였다.
이 과정은 매우 어려웠고, 무엇보다 만족할 만한 퀄리티는 나오지 않았지만(실제 모델을 화면에 띄울 경우 모서리가 검정 선으로 표시된다거나 등) 이 방법을 통해 사용할 수 있는 모델의 폭을 훨씬 넓힐 수 있었다.
 
![image](https://github.com/sa04108/CGP_Project_LKY_JHB/assets/26221823/fe148022-1f4f-43f1-8993-d55cb22a2efc)

Blender에서 텍스쳐 이미지를 추출하는 방법은 빈 이미지에다 UV 좌표에 해당하는 곳에 텍스쳐를 Bake 하는 것이다. 이에 대한 내용이 상세하게 나온 경우가 잘 없었고 전반적으로 UV 매핑에 대한 지식이 필요해서 시간이 다소 걸렸다.
